<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../css/style.css">
  <title>EPIC MAIL | DASHBOARD</title>
  <script src="../js/redirect.js"></script>
</head>

<body>
  <header>
    <div id="branding">
      <a href="../index.html">
        <h1> EPIC MAIL</h1>
      </a>


    </div>
    <nav>
      <ul>
        <li class="current">
          <a href="dashboard.html">Home</a>
        </li>
        <li>
          <a href="signin.html">Log out</a>
        </li>
      </ul>
    </nav>
  </header>
  <div class="animation-wrapper dash-margin">
    <main id="mainGrid">
      <!-- menu section -->
      <section id="dash-menu-id" class="dash-menu-overlay">

        <div class="dash-menu">
          <div id="hide-x-desktop" class="compose close-mobile-menu-x shift-top">
            <span id="close-mobile-menu" class="x-close">&times;</span>
          </div>


          <div class="compose">
            <button id="compose-open-modal">Compose</button>
          </div>

          <div class="options">
            <a href="dashboard.html">
              <div>Inbox</div>
            </a>
            <a href="sentmessages.html">
              <div>Sent</div>
            </a>
            <a href="drafts.html">
              <div>Draft</div>
            </a>
            <a href="group.html">
              <div class="current-dash">Groups</div>
            </a>
            <a href="settings.html">
              <div>Settings</div>
            </a>
          </div>
        </div>
      </section>

      <!-- content section -->
      <section class="content">

        <div class="content-menu">

          <span class="page-state">Current View: Groups</span>

          <a id="hamburger-link" href="#">
            <div>Menu &equiv;</div>
          </a>

        </div>


        <div class="create-group add-user-style" id="create-group-id">
          <div id='group-error-message-id' class='group-error'></div>
          <form id="group-option-form">

            <span>Select a group : </span>
            <select id="select-group-id" class="select-style">
              <option hidden disabled selected value>Loading.....</option>
            </select><br>

            <button id="create-group-button-id">Create Group</button>
            <button id="rename-group-id">Rename Group</button>
            <button id="delete-group-id">Delete Group</button>
            <button id="add-users-group-id">Add Users </button>
            <button id="group-details-button-id">Group details </button>
            <button id="delete-users-group-id">Delete Users </button>
          </form>

          <form class="display-none" id="create-group-form">
            <input type="text" id="create-group-name-id" placeholder="Name of Group" required><br>
            <button id="fetch-create-group-id">Create Group</button>
          </form>

          <form class="display-none" id="rename-group-form">
            <input type="text" id="rename-group-name-id" placeholder="Name of Group" required><br>
            <button id="fetch-rename-group-id">Rename Group</button>
          </form>

          <form class="display-none" id="delete-group-form">
            <!-- <input type="text" id="delete-group-name-id" placeholder="Name of Group" required> -->
            <span id="delete-group-name-id"></span>
            <button id="fetch-delete-group-id">Delete Group</button>
          </form>

          <form class="display-none" id="add-users-group-form">
            <input type="email" id="add-users-group-name-id" placeholder="User email to add" required><br>
            <span id="add-name-group-span">Click Add to add set users <br></span><br>
            <button type="button" id="fetch-add-users-group-id">Add Users to Group</button>
            <button id="add-email-group">Add</button>
          </form>

          <form class="display-none" id="group-details-group-form">

            <div class="overflow-center">
              <table id="group-details-group-span">
              </table>
            </div>
          </form>

          <form class="display-none" id="delete-users-group-form">
            <span id="delete-users-span"></span>
            <select id="delete-users-select" class="select-style">
              <option hidden disabled selected value>Loading.....</option>
            </select>
            <button id="fetch-delete-users-button">Delete User</button>
          </form>

      </section>

    </main>
    <div id="compose-modal-id" class="compose-modal">
      <div class="compose-modal-header">
        <h3 class="compose-modal-title">Compose a new email</h3>
        <span id="modal-close-id" class="modal-close">&times;</span>
      </div>

      <div class="compose-modal-body">

        <form onsubmit="event.preventDefault(); postMessages()" id="compose-form-id">
          <div class="compose-modal-select">
            <span>Send Email to : </span>
            <select id="compose-modal-select-option">
              <option>User</option>
              <optgroup id="select-optgroup-modal-id" label="Group">
              </optgroup>
            </select>
          </div>
          <span id="compose-error" class="compose-error-class"></span>
          <input id="receiverIdInput" type="email" placeholder="To: ">
          <input id="subjectId" type="text" placeholder="Subject: ">
          <textarea id="messageId" cols="50" rows="18" required form="compose-form-id"></textarea><br>
          <button type="submit" id="compose-send-button">Send</button>
          <button type="button" form="compose-form-id" id="draft-save-button">Save as draft</button>

        </form>
      </div>

    </div>



  </div>
  <footer></footer>
  <script src="../js/groupFetch.js"></script>
  <script src="../js/fetchMessages.js"></script>
  <script src="../js/fetchGetAllGroups.js"></script>
  <script>
    fetchGetGroups();
  </script>
  <script src="../js/script.js"></script>
</body>

</html>
